<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>QueryPedal Submission Form</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
      }
      .container {
        width: 80%;
        margin: auto;
        overflow: hidden;
      }
      header {
        background: #50b347;
        color: white;
        padding-top: 30px;
        min-height: 70px;
        border-bottom: #e8491d 3px solid;
      }
      header a {
        color: #ffffff;
        text-decoration: none;
        text-transform: uppercase;
        font-size: 16px;
      }
      header ul {
        padding: 0;
        margin: 0;
        list-style: none;
        overflow: hidden;
      }
      header li {
        float: left;
        display: inline;
        padding: 0 20px 0 20px;
      }
      header #branding {
        float: left;
      }
      header #branding h1 {
        margin: 0;
      }
      header nav {
        float: right;
        margin-top: 10px;
      }
      header .highlight,
      header .current a {
        color: #e8491d;
        font-weight: bold;
      }
      header a:hover {
        color: #ffffff;
        font-weight: bold;
      }
      textarea {
        width: 100%;
        margin-bottom: 20px;
        padding: 5px;
      }
      input[type="submit"] {
        padding: 10px 20px 11px !important;
        background: #e8491d;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      input[type="submit"]:hover {
        background: #333;
      }
      table {
        width: 100%;
        margin-top: 20px;
        border-collapse: collapse;
      }
      table,
      th,
      td {
        border: 1px solid #cccccc;
        padding: 10px;
        text-align: left;
      }
      th {
        background: #50b347;
        color: white;
      }
      .instruction-label {
        font-size: 24px; /* Increased font size */
        font-weight: bold; /* Make text bold */
        margin-top: 50px; /* Add space from the top header */
        display: block; /* Make it a block element to allow margin to take effect */
      }
      .form-label,
      .result-heading {
        font-size: 24px; /* Make it the same size as the instruction label */
        font-weight: bold; /* Make text bold */
        margin-top: 20px;
        margin-bottom: 10px;
        display: block;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div id="branding">
          <h1>QueryPedal</h1>
        </div>
        <nav>
          <ul>
            <li class="current"><a href="#">Home</a></li>
            <!-- Add other navigation items here if necessary -->
          </ul>
        </nav>
      </div>
    </header>

    <div class="container">
      <!-- Instruction Submission Form -->
      <form action="/submit-instruction" method="post">
        <!-- Hidden input field for dynamic values -->
        <input
          type="hidden"
          name="passed_count"
          id="passed_count"
          value="{{ passed_count }}"
        />
        <input
          type="hidden"
          name="total_submissions"
          id="total_submissions"
          value="{{ total_submissions }}"
        />
        <input
          type="hidden"
          name="processing_time"
          id="processing_time"
          value="{{ processing_time }}"
        />

        <!-- Instruction textarea -->
        <label for="instruction" class="instruction-label"
          >Instructions for QueryPedal:</label
        >
        <textarea id="instruction" name="instruction" rows="4">
from pedal import *</textarea
        >

        <br />

        <input type="submit" value="Submit" />
      </form>

      <!-- Display the Last Submitted Instruction -->
      <h2>Last Submitted Instruction:</h2>
      <textarea id="last_instruction" name="last_instruction" rows="4" readonly>
        {% if instruction %}{{ instruction }}{% else %}No instruction submitted yet.{% endif %}
      </textarea>
      <!-- Display the Last Analyzed Result -->
      <!-- Display the Last Analyzed Result -->
      <h2>Last Analyzed Result:</h2>
      <textarea id="analyzed_result" name="analyzed_result" rows="5" readonly>
{% if results_loading %}
    Loading Analyzed Result...
{% elif passed_count and total_submissions and invalid_count and incorrect_count %}
    Total Submissions: {{ total_submissions }}
    Passed Submissions: {{ passed_count }}
    Failed Submissions: {{ incorrect_count }}
    Invalid Code: {{ invalid_count }}
{% endif %}
</textarea
      >

      <!-- Display the Processing Time -->
      <h2>Processing Time:</h2>
      <textarea id="processing_time" name="processing_time" rows="4" readonly>
{% if form_submitted and not processing_time %}
    Loading Processing Time...
{% elif processing_time %}
    {{ '%.2f' | format(processing_time) }} Seconds
{% endif %}
</textarea
      >

      <!-- Existing table to display documents -->
      <!-- ... -->
    </div>
  </body>
</html>
